import{a as F}from"./chunk-JEA6HE3N.js";import{a as M}from"./chunk-ZKCSYBW7.js";import{b as w}from"./chunk-PUHQXN2A.js";import{d as k}from"./chunk-SRT76A6V.js";import{j as D,k as A,n as O,p as T}from"./chunk-N57PBUIL.js";import{Ab as c,Kb as E,T as x,Tb as g,Ub as t,Wb as r,Xb as S,Za as a,_ as f,aa as h,ac as _,e as L,gc as b,hc as C,jc as I,la as p,n as y,nb as d,oa as v,pb as s,yb as i,zb as e}from"./chunk-MLHGNWXV.js";var N=L(M());function R(o,m){if(o&1&&(i(0,"li"),t(1),e()),o&2){let n=m.$implicit;a(),S(" ",n.key,": ",n.value," ")}}function j(o,m){if(o&1&&(i(0,"div")(1,"ul",9)(2,"li",10)(3,"span",11),t(4,"ID:"),e(),t(5),e(),i(6,"li",10)(7,"span",11),t(8,"Company Name:"),e(),t(9),e(),i(10,"li",10)(11,"span",11),t(12,"Year Established:"),e(),t(13),e(),i(14,"li",10)(15,"span",11),t(16,"Trade Registration Number:"),e(),t(17),e(),i(18,"li",10)(19,"span",11),t(20,"VAT Number:"),e(),t(21),e(),i(22,"li",10)(23,"span",11),t(24,"Address:"),e(),t(25),e(),i(26,"li",10)(27,"span",11),t(28,"Country:"),e(),t(29),e(),i(30,"li",10)(31,"span",11),t(32,"Telephone:"),e(),t(33),e(),i(34,"li",10)(35,"span",11),t(36,"Email:"),e(),t(37),e(),i(38,"li",10)(39,"span",11),t(40,"Extra Data:"),e(),i(41,"ul"),d(42,R,2,2,"li",12),b(43,"keyvalue"),e()(),i(44,"li",10)(45,"span",11),t(46,"Created At:"),e(),t(47),e(),i(48,"li",10)(49,"span",11),t(50,"Updated At:"),e(),t(51),e()()()),o&2){let n=E();a(5),r(" ",n.company.id," "),a(4),r(" ",n.company.company_name," "),a(4),r(" ",n.company.year_established," "),a(4),r(" ",n.company.trade_registration_number," "),a(4),r(" ",n.company.vat_number," "),a(4),r(" ",n.company.address," "),a(4),r(" ",n.company.country," "),a(4),r(" ",n.company.telephone," "),a(4),r(" ",n.company.email," "),a(5),s("ngForOf",C(43,12,n.company.final_extra_data)),a(5),r(" ",n.company.created_at," "),a(4),r(" ",n.company.updated_at," ")}}function P(o,m){o&1&&(i(0,"div",2)(1,"div",13)(2,"div",14),c(3,"i",15),i(4,"strong"),t(5,"Company not found!"),e(),t(6," You are not currently linked to any company. Please contact your administrator or add a company to proceed. "),e(),i(7,"a",16),t(8,"Add Company"),e()()())}var H=(()=>{class o{constructor(){this.authService=p(w),this.companyService=p(F),this.company={},this.isLoadingCompany=!0,this.unsubscribe$=new y}ngOnInit(){if(N.default.init(),this.authService.getCompanyId()!==null){let n=this.authService.getCompanyId()??"";this.loadCompany(n)}}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}loadCompany(n){this.companyService.getCompany(n).pipe(h({next:l=>{l&&(this.company=l,console.log(this.company),this.company.final_extra_data=this.parseExtraData(this.company.extra_data),console.log(this.parseExtraData(this.company.extra_data)),console.log(this.company))},error:l=>alert(l)}),x(()=>this.isLoadingCompany=!1),f(this.unsubscribe$)).subscribe()}parseExtraData(n){try{return JSON.parse(n)}catch(l){return console.error("Error parsing extra data:",l),[]}}static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=v({type:o,selectors:[["app-dashboard"]],standalone:!0,features:[_],decls:11,vars:2,consts:[["noCompany",""],[1,"container","min-vh-100","my-5"],[1,"row"],[1,"col-lg-5"],[1,"card"],[1,"card-body"],["data-aos","fade-down","data-aos-duration","2000",1,"card-title"],["data-aos","fade-right","data-aos-duration","2000",1,"custom-hr"],[4,"ngIf","ngIfElse"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"fw-bold"],[4,"ngFor","ngForOf"],[1,"col-lg-12","text-center"],["role","alert",1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle"],["routerLink","/supplier/companies/create",1,"btn","btn-primary","mt-3"]],template:function(l,u){if(l&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),t(6," Company Details "),e(),c(7,"hr",7),d(8,j,52,14,"div",8)(9,P,9,0,"ng-template",null,0,I),e()()()()()),l&2){let $=g(10);a(8),s("ngIf",u.company==null?null:u.company.id)("ngIfElse",$)}},dependencies:[T,D,A,O,k]})}}return o})();export{H as a};
