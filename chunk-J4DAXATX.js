import{a as ae,b as se,c as le,d as ue,e as me,f as de,g as ce,h as pe,i as ye,j as fe,k as xe,l as be}from"./chunk-S7AA3UJJ.js";import{b as K,c as W,d as N,e as Z,f as S,g as J,i as z,k as X,m as ee,n as P,q as te,r as re,s as ie,t as oe,v as ne,y as E}from"./chunk-22GTFEIV.js";import{j as $,k as H,p as Q}from"./chunk-N57PBUIL.js";import{$b as Y,Ab as p,Eb as V,Fa as j,Jb as T,Kb as u,Nb as O,Ub as f,Vb as G,Wb as k,Za as s,_a as B,ac as D,fa as C,la as R,nb as y,oa as q,ob as U,pb as m,t as c,ub as g,vb as w,wb as _,xb as F,ya as A,yb as l,za as M,zb as d}from"./chunk-MLHGNWXV.js";var L=(()=>{class t{confirmPasswordValidator(e){return i=>{let r=i.root.get(e);return r&&i.value!==r.value?{mismatch:!0}:null}}minMaxValidator(e,i){return r=>{let a=r.value;return e!==void 0&&a<e?{minError:!0}:i!==void 0&&a>i?{maxError:!0}:null}}toFormGroup(e){let i={};return e.forEach(r=>{let a=[];r.required&&a.push(N.required),r.type==="email"&&a.push(N.email),r.key==="confirmPassword"&&a.push(this.confirmPasswordValidator("password")),(r.min!==void 0||r.max!==void 0)&&a.push(this.minMaxValidator(r.min,r.max)),r.type==="text"&&r.maxLength&&a.push(N.maxLength(r.maxLength)),i[r.key]=new z(r.value||"",a)}),new J(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=C({token:t,factory:t.\u0275fac})}}return t})();function ve(t,n){if(t&1&&(l(0,"label",3),f(1),d()),t&2){let e=u();U("for",e.question.key),s(),G(e.question.label)}}function qe(t,n){if(t&1&&p(0,"input",4),t&2){let e=u();m("formControlName",e.question.key)("id",e.question.key)("type",e.question.type)("required",e.question.required)("hidden",e.question.hidden)}}function we(t,n){if(t&1&&(l(0,"option",6),f(1),d()),t&2){let e=n.$implicit;m("value",e.key),s(),G(e.value)}}function _e(t,n){if(t&1&&(l(0,"select",5),_(1,we,2,2,"option",6,w),d()),t&2){let e=u();m("id",e.question.key)("formControlName",e.question.key),s(),F(e.question.options)}}function Fe(t,n){if(t&1&&p(0,"textarea",7),t&2){let e=u(2);m("formControlName",e.question.key)("id",e.question.key)("required",e.question.required)}}function Te(t,n){if(t&1&&p(0,"ckeditor",8),t&2){let e=u(2);m("formControlName",e.question.key)("id",e.question.key)("editor",e.Editor)("config",e.config)}}function De(t,n){if(t&1&&y(0,Fe,1,3,"textarea",7)(1,Te,1,4),t&2){let e=u();g(0,e.question.richText?1:0)}}function Qe(t,n){if(t&1&&(l(0,"div")(1,"div",10),p(2,"input",11),l(3,"label",12),f(4),d()()()),t&2){let e=n.$implicit,i=n.index,r=u(2);s(2),m("formControlName",r.question.key)("value",e.key)("id",r.question.key+"_"+i),s(),O("for",r.question.key+"_"+i),s(),k(" ",e.value," ")}}function Ne(t,n){if(t&1&&y(0,Qe,5,5,"div",9),t&2){let e=u();m("ngForOf",e.question.options)}}function Se(t,n){if(t&1&&(l(0,"div")(1,"div",10),p(2,"input",13),l(3,"label",12),f(4),d()()()),t&2){let e=n.$implicit,i=n.index,r=u(2);s(2),m("formControlName",r.question.key)("value",e.value)("id",r.question.key+"_"+i),s(),O("for",r.question.key+"_"+i),s(),k(" ",e.value," ")}}function Pe(t,n){if(t&1&&y(0,Se,5,5,"div",9),t&2){let e=u();m("ngForOf",e.question.options)}}function Ee(t,n){if(t&1&&(l(0,"div",2),f(1),d()),t&2){let e=u();s(),k("",e.question.label," is required")}}var he=(()=>{class t{constructor(){this.Editor=me,this.config={height:"400px",toolbar:["undo","redo","|","bold","italic","link","|","heading","|","bulletedList","numberedList"],plugins:[ye,le,ce,ue,be,pe,de,fe,xe],mention:{feeds:[{marker:"@",feed:["@user","@jane","@foo","@bar"],minimumCharacters:1}]}}}get isInValid(){return this.form.controls[this.question.key].touched&&!this.form.controls[this.question.key].valid}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=q({type:t,selectors:[["app-question"]],inputs:{question:"question",form:"form"},standalone:!0,features:[D],decls:9,vars:4,consts:[[1,"form-group","my-2",3,"formGroup"],["class","label fw-bold",4,"ngIf"],[1,"errorMessage","text-danger"],[1,"label","fw-bold"],[1,"form-control",3,"formControlName","id","type","required","hidden"],[1,"form-select",3,"id","formControlName"],[3,"value"],["rows","3",1,"form-control",3,"formControlName","id","required"],["data","<p>Hello, world!</p>",3,"formControlName","id","editor","config"],[4,"ngFor","ngForOf"],[1,"form-check"],["type","radio",1,"form-check-input",3,"formControlName","value","id"],[1,"form-check-label",3,"for"],["type","checkbox",1,"form-check-input",3,"formControlName","value","id"]],template:function(i,r){if(i&1&&(l(0,"div",0),y(1,ve,2,2,"label",1),l(2,"div"),y(3,qe,1,5)(4,_e,3,2)(5,De,2,1)(6,Ne,1,1)(7,Pe,1,1),d(),y(8,Ee,2,1,"div",2),d()),i&2){let a;m("formGroup",r.form),s(),m("ngIf",r.question.hidden!==!0),s(2),g(3,(a=r.question.controlType)==="textbox"?3:a==="dropdown"?4:a==="textarea"?5:a==="radio"?6:a==="checkbox"?7:-1),s(5),g(8,r.isInValid?8:-1)}},dependencies:[Q,$,H,E,ie,oe,W,K,re,ee,Z,S,ne,P,te,se,ae],encapsulation:2})}}return t})();function Ie(t,n){if(t&1&&(l(0,"div",1),p(1,"app-question",8),d()),t&2){let e=n.$implicit,i=u();s(),m("question",e)("form",i.form)}}function Le(t,n){if(t&1){let e=V();l(0,"button",9),T("click",function(){A(e);let r=u();return M(r.onPrevious())}),p(1,"i",10),f(2," Back "),d()}if(t&2){let e=u();m("disabled",e.isFirstPage())}}function Ae(t,n){if(t&1&&(l(0,"button",7),f(1),p(2,"i",11),d()),t&2){let e=u();m("disabled",!e.form.valid||!e.isLastPage()),s(),k(" ",e.btnText," ")}}function Me(t,n){if(t&1){let e=V();l(0,"button",9),T("click",function(){A(e);let r=u();return M(r.onNext())}),f(1," Next "),p(2,"i",12),d()}if(t&2){let e=u();m("disabled",e.isLastPage())}}var et=(()=>{class t{constructor(e){this.qcs=e,this.questions=[],this.btnText="Save",this.perPage=2,this.submitEvent=new j,this.payLoad="",this.currentPage=1,this.totalQuestions=0}ngOnInit(){this.totalQuestions=this.questions?.length||0,this.currentQuestions=this.getCurrentQuestions(),this.form=this.qcs.toFormGroup(this.questions)}getCurrentQuestions(){let e=(this.currentPage-1)*this.perPage,i=e+this.perPage;return this.questions?.slice(e,i)}onSubmit(){this.payLoad=JSON.stringify(this.form.getRawValue());let e=this.form.value;console.table(e);let i={formData:e};this.submitEvent.emit(i)}resetForm(){this.form.reset()}onNext(){this.isLastPage()||(this.currentPage++,this.currentQuestions=this.getCurrentQuestions(),console.log(this.currentPage))}onPrevious(){this.isFirstPage()||(this.currentPage--,this.currentQuestions=this.getCurrentQuestions(),console.log(this.currentPage))}isLastPage(){return this.currentPage===Math.ceil(this.totalQuestions/this.perPage)}isFirstPage(){return this.currentPage===1}static{this.\u0275fac=function(i){return new(i||t)(B(L))}}static{this.\u0275cmp=q({type:t,selectors:[["app-dynamic-form"]],inputs:{questions:"questions",btnText:"btnText",perPage:"perPage"},outputs:{submitEvent:"submitEvent"},standalone:!0,features:[Y([L]),D],decls:11,vars:3,consts:[[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-row","mt-4"],[1,"row"],[1,"col-lg-6","text-start"],["type","button",1,"btn","btn-secondary",3,"disabled"],[1,"col-lg-6","text-end"],["type","submit",1,"btn","btn-primary","btn-login","gradient-button","mb-2","ms-1",3,"disabled"],[3,"question","form"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"bi","bi-arrow-left-square","me-2"],[1,"bi","bi-send","ms-2"],[1,"bi","bi-arrow-right-square","ms-2"]],template:function(i,r){i&1&&(l(0,"div")(1,"form",0),T("ngSubmit",function(){return r.onSubmit()}),_(2,Ie,2,2,"div",1,w),l(4,"div",2)(5,"div",3)(6,"div",4),y(7,Le,3,1,"button",5),d(),l(8,"div",6),y(9,Ae,3,2,"button",7)(10,Me,3,1),d()()()()()),i&2&&(s(),m("formGroup",r.form),s(),F(r.currentQuestions),s(5),g(7,r.isFirstPage()?-1:7),s(2),g(9,r.isLastPage()?9:10))},dependencies:[Q,he,E,X,S,P],encapsulation:2})}}return t})();var x=class{constructor(n={}){this.value=n.value,this.key=n.key||"",this.label=n.label||"",this.required=!!n.required,this.order=n.order===void 0?1:n.order,this.controlType=n.controlType||"",this.type=n.type||"",this.options=n.options||[],this.richText=!!n.richText,this.isRadioGroup=!!n.isRadioGroup,this.isCheckbox=!!n.isCheckbox,this.hidden=!!n.hidden,this.readonly=!!n.readonly,this.min=n.min,this.max=n.max,this.maxLength=n.maxLength}};var b=class extends x{constructor(){super(...arguments),this.controlType="dropdown"}};var o=class extends x{constructor(){super(...arguments),this.controlType="textbox"}};var h=class extends x{constructor(){super(...arguments),this.controlType="textarea"}};var v=class extends x{constructor(){super(...arguments),this.controlType="radio"}};var ge=(()=>{class t{constructor(){}generateYearsArray(e,i){let r=[];for(let a=e;a>=i;a--)r.push({key:a,value:a});return r}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ct=(()=>{class t{constructor(){this.timeService=R(ge)}getQuestions(){let e=[new b({key:"favoriteAnimal",label:"Favorite Animal",options:[{key:"cat",value:"Cat"},{key:"dog",value:"Dog"},{key:"horse",value:"Horse"},{key:"capybara",value:"Capybara"}],order:3}),new o({key:"firstName",label:"First Name",value:"Alex",required:!0,order:1}),new o({key:"emailAddress",label:"Email",type:"email",order:2})];return c(e.sort((i,r)=>i.order-r.order))}getRegistrationQuestions(){let e=[new o({key:"firstName",label:"First Name",required:!0,order:1}),new o({key:"lastName",label:"Last Name",required:!0,order:2}),new o({key:"emailAddress",label:"Email",type:"email",required:!0,order:3}),new o({key:"password",label:"Password",type:"password",required:!0,order:4}),new o({key:"confirmPassword",label:"Confirm Password",type:"password",required:!0,order:5})];return c(e.sort((i,r)=>i.order-r.order))}getLoginQuestions(){let e=[new o({key:"emailAddress",label:"Email",type:"email",required:!0,order:1}),new o({key:"password",label:"Password",type:"password",required:!0,order:2})];return c(e.sort((i,r)=>i.order-r.order))}getForgotPasswordQuestions(){let e=[new o({key:"emailAddress",label:"Email",type:"email",required:!0,order:1})];return c(e.sort((i,r)=>i.order-r.order))}getChangePasswordQuestions(){let e=[new o({key:"password",label:"Password",type:"password",required:!0,order:1}),new o({key:"confirmPassword",label:"Confirm Password",type:"password",required:!0,order:2})];return c(e.sort((i,r)=>i.order-r.order))}getCategoryQuestions(){let e=[new o({key:"categoryTitle",label:"Category Title",required:!0,order:1}),new h({key:"categoryDescription",label:"Category Description",type:"textarea",richText:!0,required:!0,order:3})];return c(e.sort((i,r)=>i.order-r.order))}getCategoryFiltersQuestions(){let e=[new o({key:"title",label:"Title",type:"text",required:!1,order:1})];return c(e.sort((i,r)=>i.order-r.order))}getUserFiltersQuestions(){let e=[new o({key:"firstName",label:"First Name",type:"text",required:!1,order:1}),new o({key:"lastName",label:"Last Name",type:"text",required:!1,order:2}),new o({key:"emailAddress",label:"Email",type:"email",required:!1,order:3}),new b({key:"gender",label:"Gender",options:[{key:"male",value:"Male"},{key:"female",value:"Female"}],order:4})];return c(e.sort((i,r)=>i.order-r.order))}getUserAddRoleQuestions(){let e=[new b({key:"role",label:"Role",options:[{key:"user",value:"user"},{key:"admin",value:"admin"},{key:"superadmin",value:"superadmin"}],order:4}),new v({key:"question1",label:"What is your gender?",type:"radio",options:[{key:"male",value:"Male"},{key:"female",value:"Female"}]}),new v({key:"question2",label:"What are your hobbies?",type:"checkbox",options:[{key:"reading",value:"Reading"},{key:"sports",value:"Sports"}]})];return c(e.sort((i,r)=>i.order-r.order))}getPrequalificationQuestions(){let e=[new o({key:"title",label:"Title",required:!0,order:1}),new h({key:"description",label:"Description",type:"textarea",richText:!0,required:!0,order:2}),new o({key:"openDate",label:"Open Date",type:"date",required:!0,order:3}),new o({key:"openTime",label:"Open Time",type:"time",required:!0,order:4}),new o({key:"closingDate",label:"Closing Date",type:"date",required:!0,order:5}),new o({key:"closingTime",label:"Closing Time",type:"time",required:!0,order:6})];return c(e.sort((i,r)=>i.order-r.order))}getExportQuestions(){let e=[new o({key:"fileName",label:"Filename",type:"text",required:!0,order:1})];return c(e.sort((i,r)=>i.order-r.order))}getTenderQuestions(){let e=[new o({key:"referenceNumber",label:"Reference Number",required:!0,order:1}),new o({key:"title",label:"Title",required:!0,order:2}),new h({key:"description",label:"Description",type:"textarea",richText:!0,required:!0,order:3}),new o({key:"openingDate",label:"Opening Date",type:"date",required:!0,order:4}),new o({key:"openingTime",label:"Opening Time",type:"time",required:!0,order:5}),new o({key:"closingDate",label:"Closing Date",type:"date",required:!0,order:6}),new o({key:"closingTime",label:"Closing Time",type:"time",required:!0,order:7})];return c(e.sort((i,r)=>i.order-r.order))}getQuestionnaireQuestions(){let e=[new o({key:"title",label:"Title",required:!0,order:1}),new h({key:"description",label:"Description",type:"textarea",richText:!0,required:!0,order:2}),new o({key:"openFrom",label:"Open From",type:"date",required:!1,order:3}),new o({key:"openUntil",label:"Open Until",type:"date",required:!1,order:4})];return c(e.sort((i,r)=>i.order-r.order))}getCompanyQuestions(){let e=[new o({key:"companyName",label:"Company Name",required:!0,type:"text",maxLength:100,order:1}),new b({key:"yearEstablished",label:"Year Established",options:this.timeService.generateYearsArray(new Date().getFullYear(),1900),order:2}),new b({key:"companyForm",label:"Form of the Company",options:[{key:"Inidividual",value:"Individual"},{key:"Partnership",value:"Partnership"},{key:"Corporation",value:"Corporation"},{key:"Other",value:"Other"}],order:3}),new o({key:"specifyCompanyForm",label:"Specify",required:!1,type:"text",order:4}),new o({key:"legalStatus",label:"Legal Status",required:!1,type:"text",order:5}),new o({key:"tradeRegistrationNumber",label:"Trade Registration Number",required:!0,type:"text",order:6}),new o({key:"vatNumber",label:"VAT Number",required:!0,type:"text",order:7}),new h({key:"address",label:"Address",type:"textarea",richText:!0,required:!0,order:8}),new b({key:"country",label:"Country",options:[{key:"Lesotho",value:"Lesotho"},{key:"South Africa",value:"South Africa"},{key:"Malawi",value:"Malawi"},{key:"Botsoana",value:"Botsoana"},{key:"Zimbabwe",value:"Zimbabwe"}],order:9}),new o({key:"telephone",label:"Telephone",required:!0,type:"text",order:10}),new o({key:"email",label:"Email",required:!0,type:"text",order:11})];return c(e.sort((i,r)=>i.order-r.order))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=C({token:t,factory:t.\u0275fac})}}return t})();export{et as a,Ct as b};
