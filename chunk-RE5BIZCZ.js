import{a as D}from"./chunk-326HI63H.js";import{m as l,n as s}from"./chunk-APBDOC4F.js";import{j as x}from"./chunk-4YKIQALY.js";import"./chunk-5GXOS7PB.js";import{g as U,v as w}from"./chunk-CNFZGMVO.js";import{$b as C,Jb as v,Pb as b,Qb as y,Rb as S,Tb as n,Za as d,_a as f,_b as h,ac as g,fc as _,gc as F,la as c,oa as p,pb as u,yb as i,zb as o}from"./chunk-AK6AH6QP.js";var Q=()=>["/users"],B=(()=>{class a{constructor(e){this.userService=c(D),this.toastService=c(x),this.questions$=e.getRegistrationQuestions()}handleFormSubmit(e){console.log("Form submitted:",e.formData);let t={username:e.formData.emailAddress,email:e.formData.emailAddress,first_name:e.formData.firstName,last_name:e.formData.lastName,password:e.formData.password};this.userService.addUser(t).subscribe({next:r=>{console.log(r),r.status?(this.toastService.success("User is created successfully!"),this.dynamicFormComponent.resetForm()):this.toastService.error("Unknown error occured")},error:r=>{console.log(r)}})}static{this.\u0275fac=function(t){return new(t||a)(f(s))}}static{this.\u0275cmp=p({type:a,selectors:[["app-user-create"]],viewQuery:function(t,r){if(t&1&&b(l,5),t&2){let m;y(m=S())&&(r.dynamicFormComponent=m.first)}},standalone:!0,features:[h([s]),C],decls:22,vars:7,consts:[[1,"container","min-vh-100","py-5"],[1,"row"],[1,"col-lg-12","mx-auto"],[1,"card","main-card"],[1,"card-header","d-flex","align-items-center"],["aria-label","breadcrumb",1,"w-100"],[1,"breadcrumb","my-auto"],[1,"breadcrumb-item"],["href","#"],[1,"breadcrumb-item","active"],["routerLinkActive","router-link-active",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card-body"],[1,"col-lg-6"],[3,"submitEvent","questions","btnText","perPage"]],template:function(t,r){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"ol",6)(7,"li",7)(8,"a",8),n(9,"Home"),o()(),i(10,"li",9),n(11,"Administration"),o(),i(12,"li",7)(13,"a",10),n(14,"Users"),o()(),i(15,"li",11),n(16,"Create"),o()()()(),i(17,"div",12)(18,"div",1)(19,"div",13)(20,"app-dynamic-form",14),_(21,"async"),v("submitEvent",function(E){return r.handleFormSubmit(E)}),o()()()()()()()()),t&2&&(d(13),u("routerLink",g(6,Q)),d(7),u("questions",F(21,4,r.questions$))("btnText","Save User")("perPage",5))},dependencies:[U,l,w]})}}return a})();export{B as UserCreateComponent};
